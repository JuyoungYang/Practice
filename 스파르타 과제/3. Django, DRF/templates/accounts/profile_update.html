{% extends 'base.html' %}

{% block content %}
<div class="post-form-container">
    <div class="form-header">
        <h2 class="form-title">프로필 수정</h2>
    </div>
    
    <form method="post" enctype="multipart/form-data" class="post-form">
        {% csrf_token %}
        <div class="form-group">
            <label>프로필 이미지</label>
            {% if user.profile_image %}
                <div class="current-profile">
                    <img src="{{ user.profile_image.url }}" alt="현재 프로필 이미지" class="current-profile-img">
                </div>
            {% endif %}
            {{ form.profile_image }}
            {% if user.profile_image %}
                <div class="clear-profile">
                    {{ form.profile_image_clear }}
                    <label for="{{ form.profile_image_clear.id_for_label }}">이미지 삭제</label>
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.email.id_for_label }}">이메일</label>
            {{ form.email }}
        </div>

        <div class="form-group">
            <label for="{{ form.bio.id_for_label }}">소개</label>
            {{ form.bio }}
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-pink">수정하기</button>
            <a href="{% url 'accounts:profile' %}" class="btn btn-grey">취소</a>
        </div>
    </form>
</div>

<style>
.post-form-container {
    max-width: 800px;
    margin: 3rem auto;
    padding: 2rem;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.form-header {
    margin-bottom: 2rem;
}

.form-title {
    font-size: 1.8rem;
    color: #F37778;
    font-weight: 600;
}

.current-profile {
    margin: 1rem 0;
}

.current-profile-img {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
}

.clear-profile {
    margin-top: 0.5rem;
    color: #F37778;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    color: #666;
    font-weight: 600;
}

.form-group input[type="email"],
.form-group input[type="file"],
.form-group textarea {
    width: 100%;
    padding: 0.8rem;
    border: 2px solid #FFE4E8;
    border-radius: 8px;
    font-size: 1rem;
}

.form-group input[type="file"] {
    padding: 0.5rem;
    border: none;
}

.form-group textarea {
    min-height: 150px;
    resize: vertical;
}

.form-actions {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
}

.btn {
    padding: 0.8rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
}

.btn-pink {
    background-color: #FFE4E8;
    color: #F37778;
}

.btn-pink:hover {
    background-color: #F37778;
    color: white;
}

.btn-grey {
    background-color: #FFE4E8;
    color: #F37778;
}

.btn-grey:hover {
    background-color: #F37778;
    color: white;
}
</style>
{% endblock %}